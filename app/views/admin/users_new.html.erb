<% provide(:title, 'Sign up') %>

<div class="container containerwidth" style="background-color:#ffffff;border:1px solid #dedede;box-shadow:2px 2px 2px 2px #dedede;">
  <h2 align="center">Create new user</h2>
  <div class="form-horizontal">
    
  <%= form_for @user , url:admin_index_path do |f| %>
    <%#= render 'shared/error_messages', object: f.object %>
    <div class="form-group">
      <%= f.label :name , class: "col-sm-2"%>
      <div class="col-sm-10">
      <%= f.text_field :name , class: "form-control",:placeholder => "Enter Name"%>
      
      <%#= @user.errors.full_messages[:name] %>
      <% @user.errors[:name].each do |msg| %>
        <li><%= msg %></li>
        <% end unless @user.errors[:name].blank? %>
    </div></div>

    <div class="form-group">
      <%= f.label :role , class: "col-sm-2" %>
      <div class="col-sm-10">
        <%= f.select(:role, options_for_select([['Admin', 'admin'], ['User', 'user']])) %>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :category , class: "col-sm-2" %>
      <div class="col-sm-10">
        <%= f.collection_select(:category, Category.where(:parent=>'root'), :id, :category_name ) %>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :password , class: "col-sm-2" %>
      <div class="col-sm-10">
        <%= f.password_field :password , class: "form-control",:placeholder => "Enter password"%>
      
      <% @user.errors[:password].each do |msg| %>
        <li><%= msg %></li>
        <% end unless @user.errors[:password].blank? %>
    </div></div>

    <div class="form-group">
      <%= f.label :password_confirmation, "Confirmation" , class: "col-sm-2" %>
      <div class="col-sm-10">
        <%= f.password_field :password_confirmation,class: "form-control",:placeholder=>"Re-enter Password" %>
      
      <% @user.errors[:password_confirmation].each do |msg| %>
        <li><%= msg %></li>
        <% end unless @user.errors[:password_confirmation].blank? %>
    </div></div>

    <div class="form-group">
      <%= f.label :email , class: "col-sm-2" %>
      <div class="col-sm-10">
        <%= f.text_field :email , class: "form-control",:placeholder => "Enter email"%>
      
      <% @user.errors[:email].each do |msg| %>
        <li><%= msg %></li>
        <% end unless @user.errors[:email].blank? %>
    </div></div>

      <%= f.submit "Add User", class: "btn btn-large btn-primary" %>
    <% end %>
  </div>
</div>
